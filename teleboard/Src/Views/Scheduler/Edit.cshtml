@model Teleboard.UI.Models.Device.EditDeviceViewModel
@{
    ViewBag.Title = Resources.Edit;
}

<div class="row">
    <div class="col-md-6">
        @using (Html.BeginForm("Edit", "Scheduler", FormMethod.Post, new { id = "deviceForm" })) {
            @Html.AntiForgeryToken()
            <div class="card">
                <div class="card-header">
                    @Resources.EditDevice
                </div>

                <div class="card-block card-body">
                    <div class="form-horizontal">
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                        @Html.HiddenFor(model => model.Device.Id)
                        @Html.HiddenFor(model => model.Device.TenantId)

                        <div class="form-group row">
                            @Html.LabelFor(model => model.Device.Name, htmlAttributes: new { @class = "col-md-5 form-control-label" })
                            <div class="col-md-7">
                                @Html.EditorFor(model => model.Device.Name, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Device.Name, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group row">
                            @Html.Label(Resources.TimeZone, htmlAttributes: new { @class = "col-md-5 form-control-label" })
                            <div class="col-md-7">
                                @Html.DropDownListFor(model => model.Device.TimeZoneId, Model.TimeZones.Select(t => new SelectListItem() { Text = t.DisplayName, Value = t.Id }), htmlAttributes: new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Device.TimeZoneId, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group row">
                            @Html.LabelFor(model => model.Device.Description, htmlAttributes: new { @class = "col-md-5 form-control-label" })
                            <div class="col-md-7">
                                @Html.EditorFor(model => model.Device.Description, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Device.Description, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group row">
                            @Html.LabelFor(model => model.Device.PlayAdvertisement, htmlAttributes: new { @class = "col-md-5 form-control-label " })
                            <div class="col-md-7">
                                <input 
                                       id="playAds-yes"
                                       name="Device.PlayAdvertisement"
                                       type="radio" 
                                       value="True" 
                                       @(Model.Device.PlayAdvertisement ? "checked" : "")
                                       class="radio-col-teal channel-item" 
                                       @(Model.Device.IsAdvertisementsEnabled ? "" : "disabled") />
                                <label for="playAds-yes" class="m-r-20">@Resources.Yes</label>

                                <input
                                       id="playAds-no"
                                       name="Device.PlayAdvertisement"
                                       type="radio" value="False"
                                       @(Model.Device.PlayAdvertisement ? "" : "checked")
                                       class="radio-col-teal channel-item"
                                       @(Model.Device.IsAdvertisementsEnabled ? "" : "disabled") />
                                <label for="playAds-no">@Resources.No</label>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="card-footer">
                    <button type="submit" class="btn btn-success waves-effect waves-light">
                        <span class="btn-label"><i class="fa fa-save"></i></span>@Resources.Save
                    </button>
                </div>
            </div>
        }
    </div>

    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                @Resources.DeviceDetails
            </div>

            <div class="card-block card-body">
                <div class="form-horizontal">
                    <div class="form-group row">
                        @Html.LabelFor(model => model.Device.TenantName, htmlAttributes: new { @class = "col-md-5 form-control-label" })
                        <div class="col-md-7">
                            @Html.EditorFor(model => model.Device.TenantName, new { htmlAttributes = new { @class = "form-control", disabled = "" } })
                        </div>
                    </div>

                    <div class="form-group row">
                        @Html.LabelFor(model=> model.Device.DeviceId, htmlAttributes: new { @class = "col-md-5 form-control-label" })
                        <div class="col-md-7">
                            @Html.EditorFor(model => model.Device.DeviceId, new { htmlAttributes = new { @class = "form-control", disabled = "" } })
                        </div>
                    </div>

                    <div class="form-group row">
                        @Html.LabelFor(model=> model.Device.LastConnectedUtc, htmlAttributes: new { @class = "col-md-5 form-control-label" })
                        <div class="col-md-7">
                            @Html.EditorFor(model => model.Device.LastConnectedUtc, new { htmlAttributes = new { @class = "form-control", disabled = "" } })
                        </div>
                    </div>

                    <div class="form-group row">
                        @Html.LabelFor(model => model.Device.RegisteredOnUtc, htmlAttributes: new { @class = "col-md-5 form-control-label" })
                        <div class="col-md-7">
                            @Html.EditorFor(model => model.Device.RegisteredOnUtc, new { htmlAttributes = new { @class = "form-control", disabled = "" } })
                        </div>
                    </div>

                    <div class="form-group row">
                        @Html.LabelFor(model => model.Device.Version, htmlAttributes: new { @class = "col-md-5 form-control-label" })
                        <div class="col-md-7">
                            @Html.EditorFor(model => model.Device.Version, new { htmlAttributes = new { @class = "form-control", disabled = "" } })
                        </div>
                    </div>

                    <div class="form-group row">
                        @Html.LabelFor(model => model.Device.Latitude, htmlAttributes: new { @class = "col-md-5 form-control-label" })
                        <div class="col-md-7">
                            @Html.EditorFor(model => model.Device.Latitude, new { htmlAttributes = new { @class = "form-control", disabled = "" } })
                        </div>
                    </div>

                    <div class="form-group row">
                        @Html.LabelFor(model => model.Device.Longitude, htmlAttributes: new { @class = "col-md-5 form-control-label" })
                        <div class="col-md-7">
                            @Html.EditorFor(model => model.Device.Longitude, new { htmlAttributes = new { @class = "form-control", disabled = "" } })
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section BreadcrumbMenu {
    <button type="submit" formaction="/Scheduler/Delete/@Model.Device.Id" form="deviceForm" class="btn btn-danger waves-effect waves-light" onclick="return teleboard.page.onDeviceDelete(this)">
        <span class="btn-label"><i class="fa fa-trash"></i></span>@Resources.DeleteThisDevice
    </button>
}

@section BreadcrumbItems {
    
    <li class="breadcrumb-item">
        <a href="/Scheduler">@Resources.Scheduler</a>
    </li>
    <li class="breadcrumb-item">@Model.Device.Name</li>
    <li class="breadcrumb-item active">@Resources.Edit</li>
}


@section scripts {
    <script src="~/content/assets/pages/scripts/user_device_edit.js"></script>
}

@section styles {
}